(()=>{"use strict";const t=class{constructor(t,e,n,a){this.title=t,this.description=e,this.dueDate=n,this.completed=!1,this.priority=a}toggleTaskStatus(){this.completed=!this.completed}},e=class{constructor(t){this.name=t,this.tasks=[]}addTask(t){this.tasks.some((e=>e.title===t.title))||this.tasks.push(t)}deleteTask(t){this.tasks=this.tasks.filter((e=>e.title!==t))}},n=class{constructor(){this.categories=[]}addCategory(t){this.categories.push(t)}deleteCategory(t){this.categories=this.categories.filter((e=>e.name!==t))}};let a;function o(){const t=JSON.stringify(a);localStorage.setItem("taskList",t)}const c=function(){const o=localStorage.getItem("taskList");if(o)a=JSON.parse(o),a=Object.assign(new n,a),a.categories=a.categories.map((n=>{const a=Object.assign(new e(n.name),n);return a.tasks=a.tasks.map((e=>Object.assign(new t,e))),a}));else{a=new n;const o=new e("work"),c=new e("study"),d=new e("personal");a.addCategory(o),a.addCategory(c),a.addCategory(d);const i=new t("Task 1","Description of Task 1","2023-01-01"),s=new t("Task 2","Description of Task 2","2023-02-01"),l=new t("Task 3","Description of Task 3","2023-03-01");o.addTask(i),o.addTask(s),c.addTask(l)}return a}(),d=document.querySelector(".content");function i(t){const e=document.querySelector(".category-container > ul"),n=document.createElement("li"),a=document.createElement("a");a.setAttribute("href","#"),a.classList.add("link"),a.textContent=`${t.name}`,a.addEventListener("click",(t=>{t.stopPropagation();const e=c.categories.findIndex((e=>e.name===t.target.textContent));var n;C(c.categories[e]),n=t.target,document.querySelectorAll(".link").forEach((t=>t.classList.remove("active-link"))),n.classList.add("active-link")}));const o=document.createElement("button");o.classList.add("edit-cat-btn"),o.textContent="edit",o.addEventListener("click",s);const d=document.createElement("button");d.classList.add("delete-cat-btn"),d.textContent="delete",d.addEventListener("click",(t=>{t.stopPropagation();const e=document.querySelectorAll(".delete-cat-btn");Array.from(e).indexOf(t.target),t.target.parentElement.firstChild.classList.contains("active-link")?(k(t),E.innerHTML="",l()):k(t)})),n.appendChild(a),n.appendChild(o),n.appendChild(d),e.appendChild(n)}function s(t){t.stopPropagation();const e=document.querySelector(".e-cat-dialog"),n=document.getElementById("e-cat-title"),a=document.getElementById("close-e-cat-dialog"),d=document.getElementById("e-cat-btn-dialog"),i=t.target.parentElement.firstChild,s=t.target.parentElement.firstChild.textContent.trim();n.value=s,e.showModal(),a.addEventListener("click",(()=>{e.close()})),d.addEventListener("click",(function t(n){n.preventDefault(),n.stopPropagation();const a=document.getElementById("e-cat-title"),l=document.querySelectorAll(".link"),r=Array.from(l).findIndex((t=>t.textContent.trim()===s));let u=c.categories[r].name;c.categories[r].name=a.value,u=a.value,i.textContent=`${u}`,e.close(),C(c.categories[r]),d.removeEventListener("click",t),o()}))}function l(){const t=document.querySelector(".task-container"),e=document.createElement("p");e.textContent="Click on a category to show the associated tasks",e.classList.add("text"),t.appendChild(e)}!function(){const t=document.createElement("header"),e=document.createElement("h1");e.textContent="TO DO APP",t.appendChild(e),d.appendChild(t)}(),function(){const t=document.createElement("main");t.appendChild(function(){const t=document.createElement("div");t.classList.add("category-container");const e=document.createElement("p");e.textContent="Your categories";const n=document.createElement("ul");return t.appendChild(e),t.appendChild(n),t}()),t.appendChild(function(){const t=document.createElement("div");return t.classList.add("task-container"),t}()),d.appendChild(t)}(),function(){const t=document.querySelector(".category-container > ul"),e=document.createElement("button");e.classList.add("add-category"),e.textContent="ADD",t.appendChild(e)}(),c.categories.forEach(((t,e)=>{i(c.categories[e])})),function(){const t=document.createElement("footer"),e=document.createElement("p"),n=(new Date).getFullYear();e.innerHTML=`&copy; ${n} Woo-Cell`,t.appendChild(e),d.appendChild(t)}(),l();const r=document.querySelector(".add-category"),u=document.querySelector(".add-cat-dialog"),m=document.getElementById("cat-title"),p=document.getElementById("close-add-cat-dialog"),g=document.getElementById("add-cat-btn-dialog");function k(t){t.target.parentElement.remove(),c.deleteCategory(`${t.target.parentElement.firstChild.textContent}`),o()}r.addEventListener("click",(()=>{u.showModal()})),p.addEventListener("click",(()=>{u.close(),m.value=""})),g.addEventListener("click",(t=>{t.preventDefault();const n=new e(`${m.value}`);m.value&&(i(n),c.addCategory(n),u.close(),m.value="",o())}));const E=document.querySelector(".task-container");function C(e){E.innerHTML="",function(t){const e=document.createElement("h2");e.classList.add("cat-heading"),e.textContent=t.name,E.appendChild(e)}(e),function(){const t=document.createElement("button");t.classList.add("add-task-btn"),t.textContent="Add New Task",E.appendChild(t)}(),function(){const t=document.createElement("div");t.classList.add("task-card-container"),E.appendChild(t)}(),function(t){t.tasks.forEach((t=>{y(t)}))}(e),function(){const e=document.querySelector(".add-task-dialog"),n=document.querySelector(".add-task-btn"),a=document.getElementById("close-add-task-dialog"),d=document.getElementById("add-task-btn-dialog"),i=document.getElementById("task-title"),s=document.getElementById("task-description"),l=document.getElementById("task-due-date"),r=document.getElementById("task-priority");n.addEventListener("click",(()=>{e.showModal(),i.value="",s.value="",l.value=""})),a.addEventListener("click",(()=>{e.close()})),d.addEventListener("click",(n=>{if(n.preventDefault(),i.value&&l.value){const n=new t(`${i.value}`,`${s.value}`,`${l.value}`,`${r.value}`),a=document.querySelector(".cat-heading"),d=c.categories.findIndex((t=>t.name===a.textContent));c.categories[d].addTask(n),y(n),e.close(),o()}}))}()}function y(t){const e=document.querySelector(".task-card-container"),n=document.querySelectorAll(".card");if(!Array.from(n).some((e=>t.title===e.querySelector(".task-title").textContent))){const n=document.createElement("div");n.classList.add("card");const a=document.createElement("h3");a.classList.add("task-title"),a.textContent=t.title;const o=document.createElement("p");o.classList.add("task-description"),o.textContent=t.description;const c=document.createElement("p");c.classList.add("task-due-date"),c.textContent=`Due Date: ${t.dueDate}`;const d=document.createElement("p");d.classList.add("task-priority"),t.priority?d.textContent=`Priority: ${t.priority}`:d.textContent="Priority: unset";const i=document.createElement("button");i.classList.add("edit-task-btn"),i.textContent="edit",i.addEventListener("click",f);const s=document.createElement("button");s.classList.add("delete-task-btn"),s.textContent="delete",s.addEventListener("click",h);const l=document.createElement("button");l.classList.add("task-done-button"),l.textContent="done",l.addEventListener("click",v),n.appendChild(a),n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(i),n.appendChild(s),n.appendChild(l),e.appendChild(n)}}function h(t){const e=t.target.parentElement.parentElement.parentElement.firstChild.textContent.trim(),n=t.target.parentElement.firstChild.textContent.trim(),a=c.categories.findIndex((t=>t.name.trim()===e));c.categories[a].deleteTask(n),t.target.parentElement.remove(),o()}function f(t){const e=document.querySelector(".e-task-dialog"),n=document.getElementById("e-close-add-task-dialog"),a=document.getElementById("e-add-task-btn-dialog"),d=document.getElementById("e-task-title"),i=document.getElementById("e-task-description"),s=document.getElementById("e-task-due-date"),l=document.getElementById("e-task-priority"),r=t.target.parentElement.firstChild.textContent.trim(),u=t.target.previousElementSibling.previousElementSibling.previousElementSibling.textContent.trim(),m=t.target.previousElementSibling.previousElementSibling.textContent.trim().replace("Due Date: ","");m.replaceAll("-"," ");const p=t.target.previousElementSibling.textContent.trim().replace("Priority: ","");e.showModal(),d.value=r,i.value=u,s.value=m,l.value="unset"!==p?p:"low",n.addEventListener("click",(()=>{e.close()})),a.addEventListener("click",(t=>{if(t.preventDefault(),d.value&&s.value){const t=document.querySelector(".cat-heading"),n=c.categories.findIndex((e=>e.name===t.textContent)),a=c.categories[n],u=a.tasks.findIndex((t=>t.title===r)),m=a.tasks[u];m.title=d.value,m.description=i.value,m.dueDate=s.value,m.priority=l.value,function(t,e){const n=document.querySelectorAll(".card"),a=n[Array.from(n).findIndex((t=>t.firstChild.textContent.trim()===e))],o=a.querySelector(".task-title"),c=a.querySelector(".task-description"),d=a.querySelector(".task-due-date"),i=a.querySelector(".task-priority");o.textContent=t.title,c.textContent=t.description,d.textContent=`Due Date: ${t.dueDate}`,i.textContent=`Priority: ${t.priority}`}(m,r),e.close(),o()}}))}function v(t){t.target.parentElement.classList.toggle("done");const e=document.querySelector(".cat-heading"),n=c.categories.findIndex((t=>t.name===e.textContent)),a=c.categories[n],d=a.tasks.findIndex((e=>e.title===t.target.parentElement.firstChild.textContent.trim()));a.tasks[d].toggleTaskStatus(),o()}})();
//# sourceMappingURL=main.js.map